{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\disan\\\\OneDrive\\\\Documents\\\\Captive_Portal\\\\cp-cambium-clickthrough\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './App.css';\nimport logo from './Digicel.svg'; // Assuming you have a logo file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CaptivePortal() {\n  _s();\n  const [isTermsAccepted, setIsTermsAccepted] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: ''\n  });\n  const handleCheckboxChange = () => {\n    setIsTermsAccepted(!isTermsAccepted);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isTermsAccepted) {\n      const currentUrl = new URL(window.location.href);\n      const pathSegments = currentUrl.pathname.split('/').filter(segment => segment); // Extract path segments\n      const params = new URLSearchParams(currentUrl.search); // Get search parameters\n      params.set('freeAccess', 'true'); // Add freeAccess parameter\n\n      const baseUrl = `https://${params.get('post')}/cn-ctlr/guest`;\n      const extractedPath = pathSegments.slice(-3, -1).join('/'); // Extract the required parts from the path\n      const postUrl = `${baseUrl}/${extractedPath}/ga_login`; // Construct the URL using the extracted parts\n\n      // Create the request body as a URL-encoded string\n      const requestBody = params.toString();\n      try {\n        const response = await fetch(postUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          body: requestBody\n        });\n        if (response.ok) {\n          console.log('Form submitted successfully');\n        } else {\n          console.error('Form submission failed:', response.statusText);\n        }\n      } catch (error) {\n        console.error('Form submission error:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"portal-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"portal-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"portal-logo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to New External Captive Portal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"portal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please fill to access the network\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"portal-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Name\",\n          value: formData.name,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Email\",\n          value: formData.email,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"terms-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"termsCheckbox\",\n            checked: isTermsAccepted,\n            onChange: handleCheckboxChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"termsCheckbox\",\n            children: [\"I accept the \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/terms-and-conditions\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"terms and conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 30\n            }, this), \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !isTermsAccepted,\n          className: \"portal-button\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this);\n}\n_s(CaptivePortal, \"h2QEdzIMdufBFoqJa4gpSCgg/uM=\");\n_c = CaptivePortal;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(CaptivePortal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 7\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"CaptivePortal\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","logo","jsxDEV","_jsxDEV","CaptivePortal","_s","isTermsAccepted","setIsTermsAccepted","formData","setFormData","name","email","handleCheckboxChange","handleInputChange","e","value","target","handleSubmit","preventDefault","currentUrl","URL","window","location","href","pathSegments","pathname","split","filter","segment","params","URLSearchParams","search","set","baseUrl","get","extractedPath","slice","join","postUrl","requestBody","toString","response","fetch","method","headers","body","ok","console","log","error","statusText","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","id","checked","htmlFor","rel","disabled","_c","App","_c2","$RefreshReg$"],"sources":["C:/Users/disan/OneDrive/Documents/Captive_Portal/cp-cambium-clickthrough/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport logo from './Digicel.svg'; // Assuming you have a logo file\n\nfunction CaptivePortal() {\n  const [isTermsAccepted, setIsTermsAccepted] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: ''\n  });\n\n  const handleCheckboxChange = () => {\n    setIsTermsAccepted(!isTermsAccepted);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (isTermsAccepted) {\n      const currentUrl = new URL(window.location.href);\n      const pathSegments = currentUrl.pathname.split('/').filter(segment => segment); // Extract path segments\n      const params = new URLSearchParams(currentUrl.search); // Get search parameters\n      params.set('freeAccess', 'true'); // Add freeAccess parameter\n\n      const baseUrl = `https://${params.get('post')}/cn-ctlr/guest`;\n      const extractedPath = pathSegments.slice(-3, -1).join('/'); // Extract the required parts from the path\n      const postUrl = `${baseUrl}/${extractedPath}/ga_login`; // Construct the URL using the extracted parts\n\n      // Create the request body as a URL-encoded string\n      const requestBody = params.toString();\n\n      try {\n        const response = await fetch(postUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          body: requestBody\n        });\n\n        if (response.ok) {\n          console.log('Form submitted successfully');\n        } else {\n          console.error('Form submission failed:', response.statusText);\n        }\n      } catch (error) {\n        console.error('Form submission error:', error);\n      }\n    }\n  };\n\n  return (\n      <div className=\"portal-container\">\n        <div className=\"portal-header\">\n          <img src={logo} className=\"portal-logo\" alt=\"logo\" />\n          <h1>Welcome to New External Captive Portal</h1>\n        </div>\n        <div className=\"portal-content\">\n          <p>Please fill to access the network</p>\n          <form onSubmit={handleSubmit} className=\"portal-form\">\n            <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                required\n            />\n            <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                required\n            />\n            <div className=\"terms-container\">\n              <input\n                  type=\"checkbox\"\n                  id=\"termsCheckbox\"\n                  checked={isTermsAccepted}\n                  onChange={handleCheckboxChange}\n                  required\n              />\n              <label htmlFor=\"termsCheckbox\">\n                I accept the <a href=\"/terms-and-conditions\" target=\"_blank\" rel=\"noopener noreferrer\">terms and conditions</a>.\n              </label>\n            </div>\n            <button type=\"submit\" disabled={!isTermsAccepted} className=\"portal-button\">\n              Continue\n            </button>\n          </form>\n        </div>\n      </div>\n  );\n}\n\nfunction App() {\n  return (\n      <div className=\"App\">\n        <CaptivePortal />\n      </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}